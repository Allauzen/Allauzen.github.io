---
title: "About this site / and more"
date: 2018-08-24 ven. 13:55
layout: post
categories: 
- blog
tags: 
- article 
- jekyll 
- emacs 
- orgmode
published: true
comments: 
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgac13ae1">1. emacs Customization</a></li>
<li><a href="#orgd55504a">2. Editing and exporting Tricks</a>
<ul>
<li><a href="#orgcdb15e4">2.1. Edition</a>
<ul>
<li><a href="#org39c41d2">2.1.1. The date of today</a></li>
<li><a href="#orga7de858">2.1.2. Verbatim</a></li>
<li><a href="#orgb979079">2.1.3. No export</a></li>
<li><a href="#org4ccffac">2.1.4. Templates</a></li>
<li><a href="#org30f0f58">2.1.5. TOC</a></li>
<li><a href="#orgfa11479">2.1.6. Images</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org61840bc">3. Exporting issue</a></li>
<li><a href="#org6e10aa4">4. Publishing</a></li>
<li><a href="#org4374cf1">5. Latex</a>
<ul>
<li><a href="#orga0e0cfb">5.1. Equation</a></li>
<li><a href="#org2b539b9">5.2. Latex definition</a></li>
<li><a href="#org0ad7b79">5.3. Find the right latex</a></li>
</ul>
</li>
<li><a href="#org5c80d99">6. Examples</a></li>
</ul>
</div>
</div>
<hr>

<p>
\(\newcommand{\myvqeqn}{y = 2(x-1)^2+1}\)
\(\newcommand{\mat}[1]{\mathbf{#1}}\) 
</p>


<p>
This site is generated by <a href="https://jekyllrb.com/">Jekyll</a> (3.5.1), using <a href="http://orgmode.org/">org-mode</a> (9.0.3) with  ox-jekyll (included in the <a href="https://github.com/yoshinari-nomura/org-octopress">org-octopress</a> org-octopress emacs package). The theme derives from the so-simple-theme. 
</p>

<div id="outline-container-orgac13ae1" class="outline-2">
<h2 id="orgac13ae1"><span class="section-number-2">1</span> emacs Customization</h2>
<div class="outline-text-2" id="text-1">
<p>
From ox-jekyll, I redefined the function
"org-jekyll-insert-export-options-template" as post this way 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">post</span>
  (<span style="color: #98fb98;">&amp;optional</span> title date setupfile categories tags published layout)
  <span style="color: #ffa07a;">"Insert a settings template for Jekyll exporter."</span>
  (interactive)
  (<span style="color: #00ffff;">let</span> ((layout     (or layout org-jekyll-layout))
        (published  (or published org-jekyll-published))
        (tags       (or tags org-jekyll-tags))
        (categories (or categories org-jekyll-categories)))
    (<span style="color: #00ffff;">save-excursion</span>
      (insert (format (concat
                       <span style="color: #ffa07a;">"#+TITLE: "</span>             title
                       <span style="color: #ffa07a;">"\n#+DATE: "</span>              date
                       <span style="color: #ffa07a;">"\n#+SETUPFILE: "</span>         setupfile
                       <span style="color: #ffa07a;">"\n#+JEKYLL_LAYOUT: "</span>     layout
                       <span style="color: #ffa07a;">"\n#+JEKYLL_CATEGORIES: "</span> categories
                       <span style="color: #ffa07a;">"\n#+JEKYLL_TAGS: "</span>       tags
                       <span style="color: #ffa07a;">"\n#+JEKYLL_PUBLISHED: "</span>  published
                       <span style="color: #ffa07a;">"\n\n* \n\n"</span>))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd55504a" class="outline-2">
<h2 id="orgd55504a"><span class="section-number-2">2</span> Editing and exporting Tricks</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgcdb15e4" class="outline-3">
<h3 id="orgcdb15e4"><span class="section-number-3">2.1</span> Edition</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org39c41d2" class="outline-4">
<h4 id="org39c41d2"><span class="section-number-4">2.1.1</span> The date of today</h4>
<div class="outline-text-4" id="text-2-1-1">
<pre class="example">
{ { { time(%Y-%m-%d %a %H:%M) } } }

</pre>
<p>
Just remove space between brackets 
</p>
</div>
</div>

<div id="outline-container-orga7de858" class="outline-4">
<h4 id="orga7de858"><span class="section-number-4">2.1.2</span> Verbatim</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Start a line with ": "
</p>
<pre class="example">
: Verbatim line 

</pre>
</div>
</div>
<div id="outline-container-orgb979079" class="outline-4">
<h4 id="orgb979079"><span class="section-number-4">2.1.3</span> No export</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
To skip a sub-tree entry from export, just add the tag <i>noexport</i>. 
</p>
</div>
</div>
<div id="outline-container-org4ccffac" class="outline-4">
<h4 id="org4ccffac"><span class="section-number-4">2.1.4</span> Templates</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
To insert template, for instance 
</p>
<pre class="example">
#+BEGIN_SRC ... #+END_SRC, 

</pre>
<p>
just type 
</p>
<pre class="example">
&lt;s C-i (or tab, M-tab)

</pre>
<p>
The full list of built-in template are <a href="http://orgmode.org/manual/Easy-Templates.html">here</a>. 
</p>

<pre class="example">
s 	#+BEGIN_SRC ... #+END_SRC
e 	#+BEGIN_EXAMPLE ... #+END_EXAMPLE
q 	#+BEGIN_QUOTE ... #+END_QUOTE
v 	#+BEGIN_VERSE ... #+END_VERSE
c 	#+BEGIN_CENTER ... #+END_CENTER
l 	#+BEGIN_LaTeX ... #+END_LaTeX
L 	#+LaTeX:
h 	#+BEGIN_HTML ... #+END_HTML
H 	#+HTML:
a 	#+BEGIN_ASCII ... #+END_ASCII
A 	#+ASCII:
i 	#+INDEX: line
I 	#+INCLUDE: line 

</pre>
</div>
</div>

<div id="outline-container-org30f0f58" class="outline-4">
<h4 id="org30f0f58"><span class="section-number-4">2.1.5</span> TOC</h4>
<div class="outline-text-4" id="text-2-1-5">
<ul class="org-ul">
<li>If you want to remove the table of contents, just add in the header:</li>
</ul>
<pre class="example">
#+OPTIONS: toc:nil

</pre>
<p>
See <a href="http://orgmode.org/manual/Table-of-contents.html">this page</a> for more details about table of contents and settings. 
</p>

<ul class="org-ul">
<li>If you want to disable numbering of headings, add :</li>
</ul>
<pre class="example">
#+options: num:nil

</pre>

<ul class="org-ul">
<li>If you want place the TOC where you want :</li>
</ul>
<p>
First remove it from option
</p>
<pre class="example">
#+OPTIONS: toc:nil

</pre>
<p>
Then add it like that where you want: 
</p>
<pre class="example">
#+TOC: headlines 1

</pre>
</div>
</div>


<div id="outline-container-orgfa11479" class="outline-4">
<h4 id="orgfa11479"><span class="section-number-4">2.1.6</span> Images</h4>
<div class="outline-text-4" id="text-2-1-6">
<ul class="org-ul">
<li>To insert image, I just insert html code:</li>
</ul>
<pre class="example">
#+BEGIN_EXPORT html
&lt;img src="/assets/figs/gauss_err.png" alt="bla" style="width:400px; margin:0px auto;display:block"/&gt;
#+END_EXPORT 

</pre>
<p>
And the image is stored in a subdir of <i>assets</i>. 
</p>


<img src="/assets/figs/gauss_err.png" alt="bla" style="width:400px; margin:0px auto;display:block"/>
</div>
</div>
</div>
</div>

<div id="outline-container-org61840bc" class="outline-2">
<h2 id="org61840bc"><span class="section-number-2">3</span> Exporting issue</h2>
<div class="outline-text-2" id="text-3">
<p>
Try to reload orgmode:
</p>
<pre class="example">
C-c C-x !

</pre>

<p>
Or this solution sometimes: 
</p>
<pre class="example">
C-U M-x org-reload

</pre>
</div>
</div>


<div id="outline-container-org6e10aa4" class="outline-2">
<h2 id="org6e10aa4"><span class="section-number-2">4</span> Publishing</h2>
<div class="outline-text-2" id="text-4">
<p>
In the .emacs file I added the following code: 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(setq org-publish-project-alist
      '(

  (<span style="color: #ffa07a;">"org-alex"</span>
          <span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">Path to your org files.</span>
          <span style="color: #b0c4de;">:base-directory</span> <span style="color: #ffa07a;">"~/Sites/org/homepages"</span>
          <span style="color: #b0c4de;">:base-extension</span> <span style="color: #ffa07a;">"org"</span>

          <span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">Path to your Jekyll project.</span>
          <span style="color: #b0c4de;">:publishing-directory</span> <span style="color: #ffa07a;">"~/Sites/jekyll/homepages"</span>
          <span style="color: #b0c4de;">:recursive</span> t
          <span style="color: #b0c4de;">:publishing-function</span> org-jekyll-publish-to-html
          <span style="color: #b0c4de;">:headline-levels</span> 4 
          <span style="color: #b0c4de;">:html-extension</span> <span style="color: #ffa07a;">"html"</span>
    )


    (<span style="color: #ffa07a;">"org-static-alex"</span>
          <span style="color: #b0c4de;">:base-directory</span> <span style="color: #ffa07a;">"~/Sites/org/homepages"</span>
          <span style="color: #b0c4de;">:base-extension</span> <span style="color: #ffa07a;">"css</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">js</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">png</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">jpg</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">gif</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">pdf</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">mp3</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">ogg</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">swf</span><span style="color: #ffa07a; font-weight: bold;">\\</span><span style="color: #ffa07a; font-weight: bold;">|</span><span style="color: #ffa07a;">php"</span>
          <span style="color: #b0c4de;">:publishing-directory</span> <span style="color: #ffa07a;">"~/Sites/jekyll"</span>
          <span style="color: #b0c4de;">:recursive</span> t
          <span style="color: #b0c4de;">:publishing-function</span> org-publish-attachment)

    (<span style="color: #ffa07a;">"aa"</span> <span style="color: #b0c4de;">:components</span> (<span style="color: #ffa07a;">"org-alex"</span> <span style="color: #ffa07a;">"org-static-alex"</span>))

))
</pre>
</div>
<p>
Then just type : 
</p>
<pre class="example">
C-c-e P x aa (where aa is the project name)

</pre>
<p>
The code is derived from <a href="http://orgmode.org/worg/org-tutorials/org-jekyll.html">org-jekyll page</a>. 
</p>


<p>
Then just another shortcut : 
</p>
<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sdf</span>
  ()
<span style="color: #ffa07a;">"Insert a settings template for Jekyll exporter."</span>
(interactive)
(org-publish-project <span style="color: #ffa07a;">"aa"</span> )
(compile <span style="color: #ffa07a;">"cd ~/Sites/jekyll/homepages; bundle exec jekyll build; "</span>)
)  
</pre>
</div>
</div>
</div>





<div id="outline-container-org4374cf1" class="outline-2">
<h2 id="org4374cf1"><span class="section-number-2">5</span> Latex</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orga0e0cfb" class="outline-3">
<h3 id="orga0e0cfb"><span class="section-number-3">5.1</span> Equation</h3>
<div class="outline-text-3" id="text-5-1">
<p>
To use MathJax to export latex equation just add the following option: 
</p>
<pre class="example">
#+HTML_MATHJAX: align: left indent: 5em tagside: left font: Neo-Euler

</pre>
<p>
Then you can write (and get) things like that: 
</p>
<blockquote>
\begin{equation}
     x=\sqrt{b} \
\end{equation}
</blockquote>
</div>
</div>

<div id="outline-container-org2b539b9" class="outline-3">
<h3 id="org2b539b9"><span class="section-number-3">5.2</span> Latex definition</h3>
<div class="outline-text-3" id="text-5-2">
<p>
To use some latex definition (<i>i.e</i> newcommand), you can download the file <i>define.setup</i> from this <a href="https://github.com/bcw/org-tex-define">repository</a>. Then add in the header : 
</p>
<pre class="example">
#+SETUPFILE: /path/to/define.setup

</pre>

<p>
Then you can define some newcommand like this to get something like: 
</p>

<blockquote>
<p>
\(\mat{M}\) and an equation like \(\myvqeqn\). 
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org0ad7b79" class="outline-3">
<h3 id="org0ad7b79"><span class="section-number-3">5.3</span> Find the right latex</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Add in the <i>.emacs</i> file: 
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">to find the right latex install </span>
(setenv <span style="color: #ffa07a;">"PATH"</span> (concat <span style="color: #ffa07a;">":/usr/local/texlive/2016/bin/universal-darwin/"</span> (getenv <span style="color: #ffa07a;">"PATH"</span>)))
</pre>
</div>
</div>
</div>
</div>










<div id="outline-container-org5c80d99" class="outline-2">
<h2 id="org5c80d99"><span class="section-number-2">6</span> Examples</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li><a href="http://www.i3s.unice.fr/~malapert/org/tips/emacs_orgmode.html">http://www.i3s.unice.fr/~malapert/org/tips/emacs_orgmode.html</a></li>
</ul>
</div>
</div>
