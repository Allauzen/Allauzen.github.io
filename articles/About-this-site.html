---
title: "About this site / and more"
date: 2017-07-20
layout: post
categories: 
- blog
tags: 
- jekyll 
- emacs 
- orgmode
published: true
comments: 
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3abd54a">1. emacs Customization</a></li>
<li><a href="#org9442797">2. Tricks</a></li>
<li><a href="#org851ae65">3. Exporting issue</a></li>
<li><a href="#org317e2fb">4. Publishing</a></li>
<li><a href="#orga2c6b6b">5. Latex</a>
<ul>
<li><a href="#org0b853ab">5.1. Equation</a></li>
<li><a href="#org131c459">5.2. Latex definition</a></li>
<li><a href="#org9d9d4c2">5.3. Find the right latex</a></li>
</ul>
</li>
</ul>
</div>
</div>
<hr>

<p>
\(\newcommand{\myvqeqn}{y = 2(x-1)^2+1}\)
\(\newcommand{\mat}[1]{\mathbf{#1}}\) 
</p>


<p>
This site is generated by <a href="https://jekyllrb.com/">Jekyll</a> (3.5.1), using <a href="http://orgmode.org/">org-mode</a> (9.0.3) with  ox-jekyll (included in the <a href="https://github.com/yoshinari-nomura/org-octopress">org-octopress</a> org-octopress emacs package). The theme derives from the so-simple-theme. 
</p>

<div id="outline-container-org3abd54a" class="outline-2">
<h2 id="org3abd54a"><span class="section-number-2">1</span> emacs Customization</h2>
<div class="outline-text-2" id="text-1">
<p>
From ox-jekyll, I redefined the function
"org-jekyll-insert-export-options-template" as post this way 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">post</span>
  (<span style="color: #98fb98;">&amp;optional</span> title date setupfile categories tags published layout)
  <span style="color: #ffa07a;">"Insert a settings template for Jekyll exporter."</span>
  (interactive)
  (<span style="color: #00ffff;">let</span> ((layout     (or layout org-jekyll-layout))
        (published  (or published org-jekyll-published))
        (tags       (or tags org-jekyll-tags))
        (categories (or categories org-jekyll-categories)))
    (<span style="color: #00ffff;">save-excursion</span>
      (insert (format (concat
                       <span style="color: #ffa07a;">"#+TITLE: "</span>             title
                       <span style="color: #ffa07a;">"\n#+DATE: "</span>              date
                       <span style="color: #ffa07a;">"\n#+SETUPFILE: "</span>         setupfile
                       <span style="color: #ffa07a;">"\n#+JEKYLL_LAYOUT: "</span>     layout
                       <span style="color: #ffa07a;">"\n#+JEKYLL_CATEGORIES: "</span> categories
                       <span style="color: #ffa07a;">"\n#+JEKYLL_TAGS: "</span>       tags
                       <span style="color: #ffa07a;">"\n#+JEKYLL_PUBLISHED: "</span>  published
                       <span style="color: #ffa07a;">"\n\n* \n\n"</span>))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9442797" class="outline-2">
<h2 id="org9442797"><span class="section-number-2">2</span> Tricks</h2>
<div class="outline-text-2" id="text-2">
<p>
To insert template, for instance 
</p>
<pre class="example">
#+BEGIN_SRC ... #+END_SRC, 

</pre>
<p>
just type 
</p>
<pre class="example">
&lt;s C-i (or tab, M-tab)

</pre>
<p>
The full list of built-in template are <a href="http://orgmode.org/manual/Easy-Templates.html">here</a>. 
</p>

<pre class="example">
s 	#+BEGIN_SRC ... #+END_SRC
e 	#+BEGIN_EXAMPLE ... #+END_EXAMPLE
q 	#+BEGIN_QUOTE ... #+END_QUOTE
v 	#+BEGIN_VERSE ... #+END_VERSE
c 	#+BEGIN_CENTER ... #+END_CENTER
l 	#+BEGIN_LaTeX ... #+END_LaTeX
L 	#+LaTeX:
h 	#+BEGIN_HTML ... #+END_HTML
H 	#+HTML:
a 	#+BEGIN_ASCII ... #+END_ASCII
A 	#+ASCII:
i 	#+INDEX: line
I 	#+INCLUDE: line 

</pre>


<ul class="org-ul">
<li>If you want to remove the table of contents, just add in the header:</li>
</ul>
<pre class="example">
#+OPTIONS: toc:nil

</pre>
<p>
See <a href="http://orgmode.org/manual/Table-of-contents.html">this page</a> for more details about table of contents and settings. 
</p>

<ul class="org-ul">
<li>If you want to disable numbering of headings, add :</li>
</ul>
<pre class="example">
#+options: num:nil

</pre>
</div>
</div>

<div id="outline-container-org851ae65" class="outline-2">
<h2 id="org851ae65"><span class="section-number-2">3</span> Exporting issue</h2>
<div class="outline-text-2" id="text-3">
<p>
Try to reload orgmode:
</p>
<pre class="example">
C-c C-x !

</pre>
</div>
</div>


<div id="outline-container-org317e2fb" class="outline-2">
<h2 id="org317e2fb"><span class="section-number-2">4</span> Publishing</h2>
<div class="outline-text-2" id="text-4">
<p>
In the .emacs file I added the following code: 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(setq org-publish-project-alist
      '(

  (<span style="color: #ffa07a;">"org-alex"</span>
          <span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">Path to your org files.</span>
          <span style="color: #b0c4de;">:base-directory</span> <span style="color: #ffa07a;">"~/Sites/org/homepages"</span>
          <span style="color: #b0c4de;">:base-extension</span> <span style="color: #ffa07a;">"org"</span>

          <span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">Path to your Jekyll project.</span>
          <span style="color: #b0c4de;">:publishing-directory</span> <span style="color: #ffa07a;">"~/Sites/jekyll/homepages"</span>
          <span style="color: #b0c4de;">:recursive</span> t
          <span style="color: #b0c4de;">:publishing-function</span> org-jekyll-publish-to-html
          <span style="color: #b0c4de;">:headline-levels</span> 4 
          <span style="color: #b0c4de;">:html-extension</span> <span style="color: #ffa07a;">"html"</span>
    )


    (<span style="color: #ffa07a;">"org-static-alex"</span>
          <span style="color: #b0c4de;">:base-directory</span> <span style="color: #ffa07a;">"~/Sites/org/homepages"</span>
          <span style="color: #b0c4de;">:base-extension</span> <span style="color: #ffa07a;">"css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf\\|php"</span>
          <span style="color: #b0c4de;">:publishing-directory</span> <span style="color: #ffa07a;">"~/Sites/jekyll"</span>
          <span style="color: #b0c4de;">:recursive</span> t
          <span style="color: #b0c4de;">:publishing-function</span> org-publish-attachment)

    (<span style="color: #ffa07a;">"aa"</span> <span style="color: #b0c4de;">:components</span> (<span style="color: #ffa07a;">"org-alex"</span> <span style="color: #ffa07a;">"org-static-alex"</span>))

))
</pre>
</div>
<p>
Then just type : 
</p>
<pre class="example">
C-c-e P x aa (where aa is the project name)

</pre>
<p>
The code is derived from <a href="http://orgmode.org/worg/org-tutorials/org-jekyll.html">org-jekyll page</a>. 
</p>


<p>
Then just another shortcut : 
</p>
<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">sdf</span>
  ()
<span style="color: #ffa07a;">"Insert a settings template for Jekyll exporter."</span>
(interactive)
(org-publish-project <span style="color: #ffa07a;">"aa"</span> )
(compile <span style="color: #ffa07a;">"cd ~/Sites/jekyll/homepages; bundle exec jekyll build; "</span>)
)  
</pre>
</div>
</div>
</div>





<div id="outline-container-orga2c6b6b" class="outline-2">
<h2 id="orga2c6b6b"><span class="section-number-2">5</span> Latex</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-org0b853ab" class="outline-3">
<h3 id="org0b853ab"><span class="section-number-3">5.1</span> Equation</h3>
<div class="outline-text-3" id="text-5-1">
<p>
To use MathJax to export latex equation just add the following option: 
</p>
<pre class="example">
#+HTML_MATHJAX: align: left indent: 5em tagside: left font: Neo-Euler

</pre>
<p>
Then you can write (and get) things like that: 
</p>
<blockquote>
\begin{equation}
     x=\sqrt{b} \
\end{equation}
</blockquote>
</div>
</div>

<div id="outline-container-org131c459" class="outline-3">
<h3 id="org131c459"><span class="section-number-3">5.2</span> Latex definition</h3>
<div class="outline-text-3" id="text-5-2">
<p>
To use some latex definition (<i>i.e</i> newcommand), you can download the file <i>define.setup</i> from this <a href="https://github.com/bcw/org-tex-define">repository</a>. Then add in the header : 
</p>
<pre class="example">
#+SETUPFILE: /path/to/define.setup

</pre>

<p>
Then you can define some newcommand like this to get something like: 
</p>

<blockquote>
<p>
\(\mat{M}\) and an equation like \(\myvqeqn\). 
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org9d9d4c2" class="outline-3">
<h3 id="org9d9d4c2"><span class="section-number-3">5.3</span> Find the right latex</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Add in the <i>.emacs</i> file: 
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24;">;; </span><span style="color: #ff7f24;">to find the right latex install </span>
(setenv <span style="color: #ffa07a;">"PATH"</span> (concat <span style="color: #ffa07a;">":/usr/local/texlive/2016/bin/universal-darwin/"</span> (getenv <span style="color: #ffa07a;">"PATH"</span>)))
</pre>
</div>
</div>
</div>
</div>
